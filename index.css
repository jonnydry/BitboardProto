@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* AMBER (Default) */
  --color-terminal-bg: 16 11 5; /* #100b05 */
  --color-terminal-text: 255 176 0; /* #ffb000 */
  --color-terminal-dim: 128 88 0; /* #805800 */
  --color-terminal-alert: 224 91 18; /* #e05b12 */
  --color-terminal-highlight: 18 12 0; /* #0c0800 */
  --scanline-color: rgba(255, 176, 0, 0.03);
  --text-shadow-val: 0 0 2px rgb(var(--color-terminal-text) / 0.3);
  --shadow-glow: 0 0 15px rgb(var(--color-terminal-text) / 0.1);
  --scanline-display: block;
}

[data-theme="phosphor"] {
  /* PHOSPHOR (Green) */
  --color-terminal-bg: 5 13 5; /* #050d05 */
  --color-terminal-text: 0 255 65; /* #00ff41 */
  --color-terminal-dim: 0 100 25; /* #006419 */
  --color-terminal-alert: 255 51 51; /* #ff3333 */
  --color-terminal-highlight: 0 18 4;
  --scanline-color: rgba(0, 255, 65, 0.03);
}

[data-theme="plasma"] {
  /* PLASMA (Blue/Cyan) */
  --color-terminal-bg: 5 10 16; /* #050a10 */
  --color-terminal-text: 0 240 255; /* #00f0ff */
  --color-terminal-dim: 0 100 110; /* #00646e */
  --color-terminal-alert: 255 0 85; /* #ff0055 */
  --color-terminal-highlight: 0 12 18;
  --scanline-color: rgba(0, 240, 255, 0.03);
}

[data-theme="vermilion"] {
  /* VERMILION (Red) */
  --color-terminal-bg: 16 5 5; /* #100505 */
  --color-terminal-text: 255 70 70; /* #ff4646 */
  --color-terminal-dim: 120 20 20; /* #781414 */
  --color-terminal-alert: 255 200 0; /* #ffc800 */
  --color-terminal-highlight: 18 4 4;
  --scanline-color: rgba(255, 70, 70, 0.03);
}

[data-theme="slate"] {
  /* SLATE (Monochrome) */
  --color-terminal-bg: 15 15 15; /* #0f0f0f */
  --color-terminal-text: 200 200 200; /* #c8c8c8 */
  --color-terminal-dim: 80 80 80; /* #505050 */
  --color-terminal-alert: 255 80 80; /* #ff5050 */
  --color-terminal-highlight: 15 15 15;
  --scanline-color: rgba(255, 255, 255, 0.03);
}

[data-theme="patriot"] {
  /* PATRIOT (Red, White, Blue) */
  --color-terminal-bg: 5 10 20; /* Very Dark Blue */
  --color-terminal-text: 255 255 255; /* White */
  --color-terminal-dim: 100 120 160; /* Blue-Grey */
  --color-terminal-alert: 255 20 40; /* Red */
  --color-terminal-highlight: 8 20 45; /* Even Darker Blue */
  --scanline-color: rgba(255, 255, 255, 0.05);
}

[data-theme="sakura"] {
  /* SAKURA (Pink on Black) */
  --color-terminal-bg: 0 0 0; /* Pure Black */
  --color-terminal-text: 255 160 210; /* Vibrant Pink */
  --color-terminal-dim: 180 80 140; /* Dim Pink/Magenta */
  --color-terminal-alert: 255 80 120; /* Hot Pink/Red */
  --color-terminal-highlight: 18 4 12; /* Even Darker Pink Highlight */
  --scanline-color: rgba(255, 160, 210, 0.05);
}

[data-theme="bitboring"] {
  /* BITBORING (The "Bad" Theme) */
  --color-terminal-bg: 255 255 255; /* #ffffff */
  --color-terminal-text: 0 0 0; /* #000000 */
  --color-terminal-dim: 120 120 120; /* #787878 */
  --color-terminal-alert: 255 0 0; /* #ff0000 */
  --color-terminal-highlight: 255 255 255; /* Pure White */
  --scanline-color: transparent;
  --text-shadow-val: none;
  --shadow-glow: none;
  --scanline-display: none;
}

body {
  background-color: rgb(var(--color-terminal-bg));
  color: rgb(var(--color-terminal-text));
  overflow-x: hidden;
  text-shadow: var(--text-shadow-val);
  transition: background-color 0.3s, color 0.3s;
}

/* CRT Scanline effect - Dynamic */
.scanlines::before {
  content: ' ';
  display: var(--scanline-display);
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
    linear-gradient(
      90deg,
      var(--scanline-color),
      rgba(0, 0, 0, 0.05),
      var(--scanline-color)
    );
  z-index: 2;
  background-size: 100% 3px, 3px 100%;
  pointer-events: none;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 10px;
  background: rgb(var(--color-terminal-bg));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--color-terminal-dim));
  border: 1px solid rgb(var(--color-terminal-text));
}

/* ============================================
   MOBILE / RESPONSIVE UTILITIES
   ============================================ */

/* Safe area insets for notched devices (iPhone X+, etc.) */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Utility class for bottom safe area padding */
.safe-area-bottom {
  padding-bottom: max(0.5rem, env(safe-area-inset-bottom, 0px));
}

/* Utility class for top safe area padding */
.safe-area-top {
  padding-top: max(0.5rem, env(safe-area-inset-top, 0px));
}

/* Mobile-optimized touch targets */
@media (max-width: 767px) {
  /* Ensure minimum touch target size on mobile */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }
  
  /* Reduce scrollbar width on mobile */
  ::-webkit-scrollbar {
    width: 4px;
  }
  
  /* Hide scrollbar on mobile for cleaner look */
  .hide-scrollbar-mobile::-webkit-scrollbar {
    display: none;
  }
  
  .hide-scrollbar-mobile {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* Smooth scrolling for all elements */
html {
  scroll-behavior: smooth;
}

/* Prevent text size adjustment on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Improve tap highlighting on mobile */
* {
  -webkit-tap-highlight-color: rgba(var(--color-terminal-text), 0.1);
}

/* Better focus styles for accessibility */
:focus-visible {
  outline: 2px solid rgb(var(--color-terminal-text));
  outline-offset: 2px;
}

/* Remove default focus outline for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Horizontal scroll without visible scrollbar */
.horizontal-scroll {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.horizontal-scroll::-webkit-scrollbar {
  display: none;
}

/* Mobile drawer backdrop blur (where supported) */
@supports (backdrop-filter: blur(4px)) {
  .backdrop-blur-mobile {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }
}
